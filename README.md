# ğŸ¯ Chewytta ç³»ç»Ÿ Docker éƒ¨ç½²æŒ‡å—

## ğŸ“‹ ç›®å½•
- [ç³»ç»Ÿç®€ä»‹](#ç³»ç»Ÿç®€ä»‹)
- [ç¯å¢ƒè¦æ±‚](#ç¯å¢ƒè¦æ±‚)
- [å¿«é€Ÿå¼€å§‹](#å¿«é€Ÿå¼€å§‹)
- [è¯¦ç»†ä½¿ç”¨è¯´æ˜](#è¯¦ç»†ä½¿ç”¨è¯´æ˜)
- [ç³»ç»Ÿæ¶æ„](#ç³»ç»Ÿæ¶æ„)
- [å¸¸è§é—®é¢˜](#å¸¸è§é—®é¢˜)
- [æŠ€æœ¯æ”¯æŒ](#æŠ€æœ¯æ”¯æŒ)

---

## ğŸŒŸ ç³»ç»Ÿç®€ä»‹

Chewytta æ˜¯ä¸€ä¸ªç°ä»£åŒ–çš„ç›²ç›’ç®¡ç†ç³»ç»Ÿï¼Œé‡‡ç”¨å‰åç«¯åˆ†ç¦»æ¶æ„ï¼Œæ”¯æŒç”¨æˆ·æ³¨å†Œã€ç›²ç›’æŠ½å–ã€æ”¶è—ç®¡ç†ç­‰åŠŸèƒ½ã€‚

### ğŸ—ï¸ æŠ€æœ¯æ ˆ
- **å‰ç«¯**: React + TypeScript + Vite + Tailwind CSS
- **åç«¯**: Spring Boot 3.3.13 + Java 17
- **æ•°æ®åº“**: MySQL 8.0
- **ç¼“å­˜**: Redis
- **å®¹å™¨åŒ–**: Docker + Docker Compose
- **WebæœåŠ¡å™¨**: Nginx

---

## ğŸ’» ç¯å¢ƒè¦æ±‚

### ğŸ–¥ï¸ ç³»ç»Ÿè¦æ±‚
- **æ“ä½œç³»ç»Ÿ**: Windows 10/11 (64ä½)
- **å†…å­˜**: è‡³å°‘ 4GB RAM (æ¨è 8GB+)
- **ç¡¬ç›˜**: è‡³å°‘ 2GB å¯ç”¨ç©ºé—´
- **ç½‘ç»œ**: ç¨³å®šçš„äº’è”ç½‘è¿æ¥ (é¦–æ¬¡å¯åŠ¨éœ€è¦ä¸‹è½½é•œåƒ)

### ğŸ› ï¸ å¿…éœ€è½¯ä»¶
1. **Docker Desktop for Windows**
   - ä¸‹è½½åœ°å€: [https://www.docker.com/products/docker-desktop](https://www.docker.com/products/docker-desktop)
   - ç‰ˆæœ¬è¦æ±‚: 4.0+ (æ”¯æŒ Docker Compose V2)
   - âš ï¸ **é‡è¦**: å®‰è£…åè¯·ç¡®ä¿ Docker Desktop æ­£åœ¨è¿è¡Œ

### ğŸ”§ å¯é€‰è½¯ä»¶
- **æµè§ˆå™¨**: Chromeã€Firefoxã€Edge ç­‰ç°ä»£æµè§ˆå™¨
- **æ–‡æœ¬ç¼–è¾‘å™¨**: ç”¨äºæŸ¥çœ‹æ—¥å¿—æˆ–ä¿®æ”¹é…ç½®

---

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ğŸ“¦ ç¬¬ä¸€æ­¥ï¼šä¸‹è½½éƒ¨ç½²åŒ…
1. å°†æ•´ä¸ª `Chewytta-Docker-Deploy` æ–‡ä»¶å¤¹å¤åˆ¶åˆ°æ‚¨çš„ç”µè„‘ä¸Š
2. ç¡®ä¿æ‰€æœ‰æ–‡ä»¶å®Œæ•´ï¼ŒåŒ…æ‹¬ï¼š
   - `ğŸš€ ä¸€é”®å¯åŠ¨ Chewytta ç³»ç»Ÿ.bat`
   - `ğŸ›‘ ä¸€é”®å…³é—­ Chewytta ç³»ç»Ÿ.bat`
   - `docker-compose.yml`
   - `README.md` (æœ¬æ–‡ä»¶)
   - å…¶ä»–ç›¸å…³æ–‡ä»¶å¤¹

### ğŸƒâ€â™‚ï¸ ç¬¬äºŒæ­¥ï¼šå¯åŠ¨ç³»ç»Ÿ
1. **åŒå‡»è¿è¡Œ** `ğŸš€ ä¸€é”®å¯åŠ¨ Chewytta ç³»ç»Ÿ.bat`
2. ç­‰å¾…è„šæœ¬è‡ªåŠ¨å®Œæˆä»¥ä¸‹æ“ä½œï¼š
   - âœ… æ£€æŸ¥ Docker ç¯å¢ƒ
   - âœ… æ¸…ç†æ—§å®¹å™¨
   - âœ… ä¸‹è½½å’Œæ„å»ºé•œåƒ (é¦–æ¬¡è¿è¡Œçº¦5-10åˆ†é’Ÿ)
   - âœ… å¯åŠ¨æ‰€æœ‰æœåŠ¡
   - âœ… éªŒè¯æœåŠ¡çŠ¶æ€

### ğŸŒ ç¬¬ä¸‰æ­¥ï¼šè®¿é—®ç³»ç»Ÿ
å¯åŠ¨å®Œæˆåï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨æ‰“å¼€æµè§ˆå™¨è®¿é—® `http://localhost`

**é»˜è®¤ç®¡ç†å‘˜è´¦å·:**
- ç”¨æˆ·å: `root`
- å¯†ç : `123456`

---

## ğŸ“š è¯¦ç»†ä½¿ç”¨è¯´æ˜

### ğŸ® ç³»ç»ŸåŠŸèƒ½
1. **ç”¨æˆ·ç®¡ç†**
   - ç”¨æˆ·æ³¨å†Œå’Œç™»å½•
   - ä¸ªäººèµ„æ–™ç®¡ç†
   - å¤´åƒä¸Šä¼ 

2. **ç›²ç›’ç³»ç»Ÿ**
   - ç›²ç›’å•†å“å±•ç¤º
   - åœ¨çº¿æŠ½å–ä½“éªŒ
   - æŠ½å–è®°å½•æŸ¥çœ‹

3. **æ”¶è—ç³»ç»Ÿ**
   - æ”¶è—å¿ƒä»ªå•†å“
   - æ”¶è—åˆ—è¡¨ç®¡ç†

4. **ç®¡ç†åå°**
   - å•†å“ç®¡ç†
   - ç”¨æˆ·ç®¡ç†
   - æ•°æ®ç»Ÿè®¡

### ğŸ”§ ç³»ç»Ÿç®¡ç†

#### å¯åŠ¨ç³»ç»Ÿ
```bash
# æ–¹æ³•ä¸€ï¼šä½¿ç”¨æ‰¹å¤„ç†è„šæœ¬ (æ¨è)
åŒå‡»: ğŸš€ ä¸€é”®å¯åŠ¨ Chewytta ç³»ç»Ÿ.bat

# æ–¹æ³•äºŒï¼šä½¿ç”¨å‘½ä»¤è¡Œ
docker-compose up -d --build
```

#### åœæ­¢ç³»ç»Ÿ
```bash
# æ–¹æ³•ä¸€ï¼šä½¿ç”¨æ‰¹å¤„ç†è„šæœ¬ (æ¨è)
åŒå‡»: ğŸ›‘ ä¸€é”®å…³é—­ Chewytta ç³»ç»Ÿ.bat

# æ–¹æ³•äºŒï¼šä½¿ç”¨å‘½ä»¤è¡Œ
docker-compose down
```

#### æŸ¥çœ‹ç³»ç»ŸçŠ¶æ€
```bash
# æŸ¥çœ‹å®¹å™¨çŠ¶æ€
docker-compose ps

# æŸ¥çœ‹æ—¥å¿—
docker-compose logs [service_name]
# ä¾‹å¦‚: docker-compose logs frontend
```

#### é‡å¯ç‰¹å®šæœåŠ¡
```bash
# é‡å¯å‰ç«¯
docker-compose restart frontend

# é‡å¯åç«¯
docker-compose restart backend

# é‡å¯æ•°æ®åº“
docker-compose restart mysql
```

---

## ğŸ›ï¸ ç³»ç»Ÿæ¶æ„

### ğŸ³ Docker å®¹å™¨ç»„æˆ
| å®¹å™¨åç§° | é•œåƒ | ç«¯å£ | åŠŸèƒ½æè¿° |
|---------|------|------|----------|
| chewytta-frontend | nginx:latest | 80 | å‰ç«¯æœåŠ¡ + åå‘ä»£ç† |
| chewytta-backend | openjdk:17-jdk-slim | 8080 | åç«¯ API æœåŠ¡ |
| chewytta-mysql | mysql:8.0 | 3306 | æ•°æ®åº“æœåŠ¡ |
| chewytta-redis | redis:latest | 6379 | ç¼“å­˜æœåŠ¡ |

### ğŸŒ ç½‘ç»œæ¶æ„
```
ç”¨æˆ·æµè§ˆå™¨ (80) 
    â†“
Nginx å‰ç«¯å®¹å™¨ (80)
    â”œâ”€â”€ é™æ€æ–‡ä»¶æœåŠ¡
    â”œâ”€â”€ API ä»£ç† â†’ åç«¯å®¹å™¨ (8080)
    â””â”€â”€ èµ„æºä»£ç† â†’ åç«¯å®¹å™¨ (8080)
             â†“
    Spring Boot åç«¯ (8080)
         â”œâ”€â”€ MySQL æ•°æ®åº“ (3306)
         â””â”€â”€ Redis ç¼“å­˜ (6379)
```

### ğŸ“ æ•°æ®æŒä¹…åŒ–
- **MySQL æ•°æ®**: `./mysql-data` (æ•°æ®åº“æ–‡ä»¶)
- **ä¸Šä¼ æ–‡ä»¶**: `./AdminContent` (ç”¨æˆ·ä¸Šä¼ çš„å›¾ç‰‡)
- **åº”ç”¨æ•°æ®**: `./ChewyApp` (åº”ç”¨é…ç½®å’Œç¼“å­˜)

---

## â“ å¸¸è§é—®é¢˜

### ğŸš¨ å¯åŠ¨å¤±è´¥é—®é¢˜

#### Q1: "æœªæ£€æµ‹åˆ°Docker"
**è§£å†³æ–¹æ¡ˆ:**
1. ä¸‹è½½å¹¶å®‰è£… Docker Desktop
2. å¯åŠ¨ Docker Desktop å¹¶ç­‰å¾…å®Œå…¨å¯åŠ¨
3. é‡æ–°è¿è¡Œå¯åŠ¨è„šæœ¬

#### Q2: "DockeræœåŠ¡æœªå¯åŠ¨"
**è§£å†³æ–¹æ¡ˆ:**
1. æ‰“å¼€ Docker Desktop
2. ç­‰å¾…çŠ¶æ€æ˜¾ç¤ºä¸º "Engine running"
3. é‡æ–°è¿è¡Œå¯åŠ¨è„šæœ¬

#### Q3: ç«¯å£è¢«å ç”¨
**è§£å†³æ–¹æ¡ˆ:**
```bash
# æ£€æŸ¥ç«¯å£å ç”¨
netstat -ano | findstr :80
netstat -ano | findstr :3306
netstat -ano | findstr :6379

# åœæ­¢å ç”¨è¿›ç¨‹æˆ–ä¿®æ”¹ docker-compose.yml ä¸­çš„ç«¯å£é…ç½®
```

### ğŸ› è¿è¡Œæ—¶é—®é¢˜

#### Q4: ç½‘é¡µæ‰“ä¸å¼€æˆ–æ˜¾ç¤º 502 é”™è¯¯
**è§£å†³æ–¹æ¡ˆ:**
1. ç­‰å¾… 2-3 åˆ†é’Ÿ (æœåŠ¡å¯èƒ½è¿˜åœ¨å¯åŠ¨)
2. æ£€æŸ¥å®¹å™¨çŠ¶æ€: `docker-compose ps`
3. æŸ¥çœ‹æ—¥å¿—: `docker-compose logs`

#### Q5: æ•°æ®åº“è¿æ¥å¤±è´¥
**è§£å†³æ–¹æ¡ˆ:**
1. ç¡®è®¤ MySQL å®¹å™¨æ­£å¸¸è¿è¡Œ
2. æ£€æŸ¥æ•°æ®åº“æ—¥å¿—: `docker-compose logs mysql`
3. é‡å¯æ•°æ®åº“å®¹å™¨: `docker-compose restart mysql`

#### Q6: å›¾ç‰‡ä¸Šä¼ åæ— æ³•æ˜¾ç¤º
**é—®é¢˜ç°è±¡:**
- ç®¡ç†å‘˜ä¸Šä¼ çš„ç›²ç›’å›¾ç‰‡æ˜¾ç¤º500é”™è¯¯
- ç”¨æˆ·å¤´åƒä¸Šä¼ åæ— æ³•æ˜¾ç¤ºæˆ–æ˜¾ç¤º404é”™è¯¯
- é‡å¯å®¹å™¨åä¹‹å‰å¯æ˜¾ç¤ºçš„å›¾ç‰‡å˜æˆæ— æ³•æ˜¾ç¤º

**è§£å†³æ–¹æ¡ˆ:**
1. **ç¡®è®¤volumesæ˜ å°„æ­£ç¡®:**
   ```bash
   # æ£€æŸ¥docker-compose.ymlä¸­çš„volumesé…ç½®
   volumes:
     - ./ChewyApp:/app/ChewyApp
     - ./AdminContent:/app/AdminContent
   ```

2. **æ£€æŸ¥nginxé…ç½®:**
   - ç¡®è®¤nginx.confåŒ…å«äº† `/uploads` å’Œ `/admin-content` çš„ä»£ç†é…ç½®
   - é‡å¯å‰ç«¯å®¹å™¨: `docker-compose restart frontend`

3. **æƒé™é—®é¢˜å¤„ç†:**
   ```bash
   # Windowsä¸‹æ£€æŸ¥æ–‡ä»¶å¤¹æƒé™
   # ç¡®ä¿AdminContentå’ŒChewyAppæ–‡ä»¶å¤¹å¯å†™
   ```

4. **æ¸…é™¤æµè§ˆå™¨ç¼“å­˜å¹¶é‡æ–°æµ‹è¯•**

**é¢„é˜²æªæ–½:**
- ç¡®ä¿åœ¨åœæ­¢å®¹å™¨å‰ï¼Œé‡è¦çš„å›¾ç‰‡æ–‡ä»¶å·²æ­£ç¡®ä¿å­˜åœ¨å®¿ä¸»æœºçš„æ˜ å°„ç›®å½•ä¸­
- å®šæœŸå¤‡ä»½ `./AdminContent` å’Œ `./ChewyApp` ç›®å½•

#### Q7: ç”¨æˆ·å¤´åƒåŠŸèƒ½å¼‚å¸¸
**é—®é¢˜ç°è±¡:**
- ç”¨æˆ·ä¸Šä¼ å¤´åƒåæ˜¾ç¤º404é”™è¯¯
- å¤´åƒè·¯å¾„æ˜¾ç¤ºä¸º `/uploads/userdata/avatars/...` ä½†æ— æ³•è®¿é—®

**è§£å†³æ–¹æ¡ˆ:**
1. **æ£€æŸ¥nginxä»£ç†é…ç½®:**
   ```bash
   # ç¡®è®¤nginx.confåŒ…å«uploadsè·¯å¾„ä»£ç†
   location /uploads {
       proxy_pass http://backend:8080;
       # ...å…¶ä»–ä»£ç†é…ç½®
   }
   ```

2. **éªŒè¯æ–‡ä»¶å­˜å‚¨:**
   ```bash
   # æ£€æŸ¥ChewyAppç›®å½•ç»“æ„
   ls ./ChewyApp/userdata/avatars/
   ```

3. **é‡å¯ç›¸å…³æœåŠ¡:**
   ```bash
   docker-compose restart frontend
   docker-compose restart backend
   ```

#### Q8: é‡å¯åä¸Šä¼ çš„å›¾ç‰‡æ¶ˆå¤±
**é—®é¢˜ç°è±¡:**
- é‡å¯Dockerå®¹å™¨åï¼Œä¹‹å‰ä¸Šä¼ çš„å›¾ç‰‡æ— æ³•æ˜¾ç¤º
- å®¿ä¸»æœºç›®å½•ä¸­æ‰¾ä¸åˆ°ä¸Šä¼ çš„å›¾ç‰‡æ–‡ä»¶
- æµè§ˆå™¨æ˜¾ç¤º500æˆ–404é”™è¯¯

**é—®é¢˜åˆ†æ:**
è¿™é€šå¸¸æ˜¯Dockeræ•°æ®æŒä¹…åŒ–é…ç½®é—®é¢˜ã€‚è™½ç„¶docker-compose.ymlé…ç½®äº†volumesæ˜ å°„ï¼Œä½†å¯èƒ½å­˜åœ¨ä»¥ä¸‹æƒ…å†µï¼š

**è§£å†³æ–¹æ¡ˆ:**
1. **éªŒè¯æ–‡ä»¶æ˜ å°„çŠ¶æ€:**
   ```bash
   # è¿è¡Œæ–‡ä»¶æŒä¹…åŒ–æ£€æŸ¥å·¥å…·
   åŒå‡»: ğŸ”„ æ–‡ä»¶æŒä¹…åŒ–æ£€æŸ¥.bat
   ```

2. **æ£€æŸ¥volumesé…ç½®:**
   ```yaml
   # ç¡®è®¤docker-compose.ymlä¸­åŒ…å«ä»¥ä¸‹é…ç½®
   backend:
     volumes:
       - ./ChewyApp:/app/ChewyApp
       - ./AdminContent:/app/AdminContent
   ```

3. **æ‰‹åŠ¨éªŒè¯æ–‡ä»¶åŒæ­¥:**
   ```bash
   # æ£€æŸ¥å®¹å™¨å†…æ–‡ä»¶
   docker exec chewytta-backend ls /app/AdminContent/boxes/covers/
   
   # æ£€æŸ¥å®¿ä¸»æœºæ–‡ä»¶
   dir AdminContent\boxes\covers\
   ```

4. **é‡æ–°åˆå§‹åŒ–æ•°æ®ç›®å½•:**
   ```bash
   # åœæ­¢æœåŠ¡
   docker-compose down
   
   # ç¡®ä¿ç›®å½•å­˜åœ¨
   mkdir AdminContent ChewyApp 2>nul
   
   # é‡æ–°å¯åŠ¨
   docker-compose up -d --build
   ```

**é¢„é˜²æªæ–½:**
- å®šæœŸæ£€æŸ¥ `./AdminContent` å’Œ `./ChewyApp` ç›®å½•æ˜¯å¦åŒ…å«æœ€æ–°ä¸Šä¼ çš„æ–‡ä»¶
- ä½¿ç”¨ `ğŸ”„ æ–‡ä»¶æŒä¹…åŒ–æ£€æŸ¥.bat` å·¥å…·å®šæœŸéªŒè¯æ–‡ä»¶åŒæ­¥çŠ¶æ€
- é‡è¦æ•°æ®å»ºè®®é¢å¤–å¤‡ä»½åˆ°å…¶ä»–ä½ç½®

### ğŸ”§ ç»´æŠ¤æ“ä½œ

#### å®Œå…¨é‡ç½®ç³»ç»Ÿ (æ¸…é™¤æ‰€æœ‰æ•°æ®)
```bash
# âš ï¸ è­¦å‘Šï¼šæ­¤æ“ä½œä¼šåˆ é™¤æ‰€æœ‰ç”¨æˆ·æ•°æ®
docker-compose down -v
docker system prune -a -f
```

#### å¤‡ä»½æ•°æ®
```bash
# å¤‡ä»½æ•°æ®åº“
docker exec chewytta-mysql mysqldump -u root -proot chewytta > backup.sql

# å¤‡ä»½ä¸Šä¼ æ–‡ä»¶
copy /Y AdminContent backup-AdminContent
```

#### æ›´æ–°ç³»ç»Ÿ
```bash
# åœæ­¢ç³»ç»Ÿ
docker-compose down

# æ‹‰å–æœ€æ–°é•œåƒ
docker-compose pull

# é‡æ–°æ„å»ºå¹¶å¯åŠ¨
docker-compose up -d --build
```

---

## ğŸ“ æŠ€æœ¯æ”¯æŒ

### ğŸ” æ—¥å¿—æŸ¥çœ‹
```bash
# æŸ¥çœ‹æ‰€æœ‰æœåŠ¡æ—¥å¿—
docker-compose logs

# æŸ¥çœ‹ç‰¹å®šæœåŠ¡æ—¥å¿—
docker-compose logs frontend
docker-compose logs backend
docker-compose logs mysql
docker-compose logs redis

# å®æ—¶æŸ¥çœ‹æ—¥å¿—
docker-compose logs -f [service_name]
```

### ğŸ“Š ç³»ç»Ÿç›‘æ§
```bash
# æŸ¥çœ‹å®¹å™¨èµ„æºä½¿ç”¨æƒ…å†µ
docker stats

# æŸ¥çœ‹ç£ç›˜ä½¿ç”¨æƒ…å†µ
docker system df
```

### ğŸ†˜ è·å–å¸®åŠ©
å¦‚æœé‡åˆ°æ— æ³•è§£å†³çš„é—®é¢˜ï¼Œè¯·æä¾›ä»¥ä¸‹ä¿¡æ¯ï¼š
1. é”™è¯¯æˆªå›¾æˆ–é”™è¯¯ä¿¡æ¯
2. ç³»ç»Ÿç‰ˆæœ¬ä¿¡æ¯
3. Docker ç‰ˆæœ¬: `docker --version`
4. å®¹å™¨çŠ¶æ€: `docker-compose ps`
5. ç›¸å…³æ—¥å¿—: `docker-compose logs`

---

## ğŸ“„ ç‰ˆæœ¬ä¿¡æ¯

- **Chewytta ç‰ˆæœ¬**: 1.0.0
- **æ„å»ºæ—¥æœŸ**: 2025-07-27
- **Docker Compose ç‰ˆæœ¬**: 3.8+
- **æ”¯æŒç³»ç»Ÿ**: Windows 10/11

---

## ğŸ“œ è®¸å¯è¯

æœ¬é¡¹ç›®éµå¾ªç›¸å…³å¼€æºåè®®ï¼Œå…·ä½“è¯·æŸ¥çœ‹é¡¹ç›®æºç ä¸­çš„ LICENSE æ–‡ä»¶ã€‚

---

**ğŸ‰ ç¥æ‚¨ä½¿ç”¨æ„‰å¿«ï¼å¦‚æœ‰é—®é¢˜æ¬¢è¿åé¦ˆï¼**
